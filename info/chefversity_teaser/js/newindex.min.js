var screenheight=window.innerHeight,mwidth=$("body").width(),pages,timer=null,toppositioning=0,wheel_queue=0,calculate_win=function(e){for(pages=document.getElementsByClassName("page"),screenheight=window.innerHeight+50,toppositioning=0,i=0;i<pages.length;i++)pages[i].style.height=screenheight.toString()+"px",pages[i].style.top=toppositioning.toString()+"px",toppositioning+=screenheight;var n=document.getElementById("homecenter");n.style.marginTop=.25*screenheight+"px",e&&($(window).scrollTop()<screenheight?$("html,body").animate({scrollTop:0},400):$("html,body").animate({scrollTop:$(window).scrollTop()-($(window).scrollTop()-screenheight)},400)),window.innerWidth<450&&(document.getElementById("navbar").className="navbar navbar-static-top navbar-collapse")},scroll=function(e){$("html,body").animate({scrollTop:e},500,function(){null!=timer&&clearTimeout(timer),setTimeout(function(){wheel_queue>0&&(wheel_queue=0)},500)})},scroll_target=function(e){return pagediv=$(window).scrollTop()/screenheight,"down"==e?(pagediv%1==0&&(pagediv+=.1),pagediv=Math.ceil(pagediv)):(pagediv%1==0&&(pagediv-=.1),pagediv=Math.floor(pagediv)),pagediv},main=function(){screenheight=window.innerHeight,calculate_win(),window.onresize=function(){calculate_win(!0),mwidth=$("body").width()},$("a[href*=#]").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")){var e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return scroll(e.offset().top+50),!1}}),window.onscroll=function(){$(window).scrollTop()+50>screenheight&&$("body").width()>=768?($("#home").show("slide"),$("li a").each($(window).scrollTop()>=3*screenheight?function(){this.style.color="#6C756B"}:function(){this.style.color=""})):$("#home").hide("slide")},window.onwheel=function(e){$("body").width()>=768&&(e.preventDefault(),wheel_queue+=1,1==wheel_queue&&(pagediv=$(window).scrollTop()/screenheight,e.deltaY>0?pagediv=scroll_target("down"):e.deltaY<0&&(pagediv=scroll_target("up")),scroll(pagediv*screenheight)))},window.onkeydown=function(e){var i=e.keyCode;[33,34,35,36,38,40].indexOf(i)>=0&&e.preventDefault(),pagediv=$(window).scrollTop()/screenheight,[34,40].indexOf(i)>=0?pagediv=scroll_target("down"):[33,38].indexOf(i)>=0?pagediv=scroll_target("up"):35==i?pagediv=toppositioning/screenheight:36==i&&(pagediv=0),scroll(pagediv*screenheight)}};$(document).ready(main);
